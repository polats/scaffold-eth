<html>
	<head>
		<script src="src/avatarCanvas.js"></script>
	</head>

	<body>
		<script>
			var fps = 30;
			var canvas = null;
			var context = null;
			var avatar = null;
			window.onload = function () {
				canvas = document.getElementById("canvas");
				context = this.canvas.getContext("2d");

				context.mozImageSmoothingEnabled = false;
				context.webkitImageSmoothingEnabled = false;
				context.msImageSmoothingEnabled = false;
				context.imageSmoothingEnabled = false;

				avatar = new avatarCanvas();
				avatar.scale = 2;
				avatar.load(
					context,
					"./sprites/test2/properties.json",
					"./sprites/test2/sheet.png"
				);

				window.setInterval(render, 1000 / fps);
			};

			function render() {
				context.clearRect(0, 0, this.canvas.width, this.canvas.height);
				avatar.update(1.0 / fps);
				avatar.draw();
			}
		</script>

		<canvas id="canvas" width="768" height="256"></canvas>

		<h3>DEBUG BUTTONS</h3>
		<button
			onclick="avatar.load(context, './sprites/test2/properties.json', './sprites/test2/sheet.png')"
		>
			Load Male Avatar
		</button>
		<button
			onclick="avatar.load(context, './sprites/test1/properties.json', './sprites/test1/sheet.png')"
		>
			Load Female Avatar
		</button>
		<button onclick="avatar.playAnim('Idle')">Idle</button>
		<button onclick="avatar.playAnim('Walk')">Walk</button>
		<button onclick="avatar.playAnim('Attack - Knight')">Attack</button>

		<footer>
			<br />
			<a href="index.html">V1 demo</a><br />
			<a href="v2.html">V2 demo</a><br />
			<a href="ui-parts-picker.html">Parts picker V1 demo</a><br />
			<a href="ui-parts-picker-v2.html">Parts picker V2 demo</a><br />
			<a href="test-avatar-canvas.html">Canvas avatar demo</a>
		</footer>
	</body>
</html>
